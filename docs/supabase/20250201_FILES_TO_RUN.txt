================================================================================
ECHOSHOP DATABASE SECURITY & PERFORMANCE DEPLOYMENT
Complete List of SQL Files to Run at Supabase (In Order)
================================================================================

PHASE 1: PRE-DEPLOYMENT VERIFICATION
-------------------------------------
1.  docs/supabase/20250201_pre_deployment_verification.sql
    â†’ Save outputs to CSV files before proceeding

PHASE 2: SECURITY FIXES
-----------------------
2.  docs/supabase/20250201_fix_security_view.sql
3.  docs/supabase/20250201_fix_function_security.sql

PHASE 3: PERFORMANCE OPTIMIZATION
----------------------------------
4.  docs/supabase/20250201_create_stable_auth_functions.sql

PHASE 4: RLS POLICY UPDATES - PRIORITY 1 (Core User Tables)
------------------------------------------------------------
5.  docs/supabase/20250201_update_rls_profiles.sql
6.  docs/supabase/20250201_update_rls_vendor_products.sql
7.  docs/supabase/20250201_update_rls_vendor_requests.sql

PHASE 4: RLS POLICY UPDATES - PRIORITY 2 (Social Platform Tables)
------------------------------------------------------------------
8.  docs/supabase/20250201_update_rls_posts.sql
9.  docs/supabase/20250201_update_rls_comments.sql
10. docs/supabase/20250201_update_rls_likes.sql
11. docs/supabase/20250201_update_rls_follows.sql
12. docs/supabase/20250201_update_rls_collections.sql
13. docs/supabase/20250201_update_rls_saves.sql
14. docs/supabase/20250201_update_rls_messages.sql

PHASE 4: RLS POLICY UPDATES - PRIORITY 3 (Vendor & Admin Tables)
-----------------------------------------------------------------
15. docs/supabase/20250201_update_rls_vendor_notifications.sql
16. docs/supabase/20250201_update_rls_vendor_owner_messages.sql
17. docs/supabase/20250201_update_rls_vendor_health_scores.sql
18. docs/supabase/20250201_update_rls_admin_audit_log.sql
19. docs/supabase/20250201_update_rls_orders.sql
20. docs/supabase/20250201_update_rls_vendor_assistants.sql
21. docs/supabase/20250201_update_rls_feature_flags.sql
22. docs/supabase/20250201_update_rls_disputes.sql

PHASE 5: FINAL VERIFICATION
----------------------------
23. docs/supabase/20250201_deployment_verification.sql

================================================================================
TOTAL FILES: 23 SQL files
================================================================================

IMPORTANT NOTES:
- Run files in numerical order (1-23)
- Test after each priority group before proceeding
- Keep rollback files safe from Step 1
- Estimated time: 45-60 minutes (including testing)

For detailed information, see: 20250201_EXECUTION_ORDER.md

